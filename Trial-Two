pipeline {
	agent any
	stages {
		stage ('build') {
    steps {
      sh 'mkdir essex' // create a new folder
      sh 'touch essex/rom.txt' create an empty file
      sh 'echo "heading" >> essex/rom.txt' >> essex/rom.txt >> put heading inside the file
      sh 'echo "footing" >> essex/rom.txt' >> essex/rom.txt >> put footing inside the file
    }
		}
		stage ('Test') {
		steps {
		sh 'test -f essex/rom.txt'
		sh 'grep "heading" essex.rom.txt' 
		sh 'grep "footing" essex/rom.txt'
		}
	}
	stage ('approval') {
    steps {
      echo 'test approval'
    }
		}
		stage ('deploy:prod') {
    steps {
      sh'''
      rm -rf testfile.json
      '''
      echo 'test deploy'
    }
		}
	}
}
